{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Paciente</title>
    <link rel="stylesheet" href="{% static 'css/cadastro.css' %}">
</head>
<body>
    <div class="content">
        <div class="form-container">
            <img src="{% static 'img/Logo-branca-AgendMed.png' %}" alt="Logo AgendMed" id="imagem">

            <h2>Formulário de Cadastro de Paciente</h2>

            <form method="POST" enctype="multipart/form-data">
                {% csrf_token %}

                <!-- Campos Usuário -->
                <label for="nome_completo">Nome Completo</label>
                <input type="text" id="nome_completo" name="nome_completo" value="{{ form.nome_completo.value|default:'' }}" placeholder="ex: João Araújo" required>

                <label for="cpf">CPF</label>
                <input type="text" id="cpf" name="cpf" value="{{ form.cpf.value|default:'' }}" placeholder="000.000.000-00" required>

                <label for="telefone">Telefone</label>
                <input type="tel" id="telefone" name="telefone" value="{{ form.telefone.value|default:'' }}" placeholder="(00) 00000-0000">

                <label for="endereco">Endereço</label>
                <input type="text" id="endereco" name="endereco" value="{{ form.endereco.value|default:'' }}" placeholder="Rua, Bairro, Cidade">

                <!-- Campos Paciente -->
                <label for="cartao_saude">Cartão de Saúde</label>
                <input type="text" id="cartao_saude" name="cartao_saude" value="{{ form.cartao_saude.value|default:'' }}" required>

                <label for="data_nascimento">Data de Nascimento</label>
                <input type="date" id="data_nascimento" name="data_nascimento" value="{{ form.data_nascimento.value|default:'' }}" required>

                <label for="condicao_prioritaria">Condição Prioritária</label>
                <select id="condicao_prioritaria" name="condicao_prioritaria">
                    <option value="nenhuma" {% if form.condicao_prioritaria.value == 'nenhuma' %}selected{% endif %}>Não possui condição</option>
                    <option value="gravidez" {% if form.condicao_prioritaria.value == 'gravidez' %}selected{% endif %}>Gravidez (Gestante)</option>
                    <option value="idoso" {% if form.condicao_prioritaria.value == 'idoso' %}selected{% endif %}>Idoso (60 anos ou mais)</option>
                    <option value="doencas_cronicas" {% if form.condicao_prioritaria.value == 'doencas_cronicas' %}selected{% endif %}>Doenças Crônicas Graves</option>
                    <option value="urgencia" {% if form.condicao_prioritaria.value == 'urgencia' %}selected{% endif %}>Urgências e Emergências</option>
                    <option value="deficiencia" {% if form.condicao_prioritaria.value == 'deficiencia' %}selected{% endif %}>Deficiências Físicas ou Mentais</option>
                    <option value="imunossupresso" {% if form.condicao_prioritaria.value == 'imunossupresso' %}selected{% endif %}>Pacientes Imunossuprimidos</option>
                    <option value="doencas_infectocontagiosas" {% if form.condicao_prioritaria.value == 'doencas_infectocontagiosas' %}selected{% endif %}>Doenças Infectocontagiosas</option>
                </select>

                <label for="comprovante">Comprovante</label>
                <input type="file" id="comprovante" name="comprovante" value="{{ form.comprovante.value|default:'' }}">

                <button type="submit">Cadastrar</button>
            </form>

            <!-- Exibição de erros -->
            {% if form.errors %}
                <ul>
                    {% for field in form %}
                        {% for error in field.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    {% endfor %}
                </ul>
            {% endif %}
        </div>
    </div>
</body>
</html>
