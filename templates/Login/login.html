{% load static %}
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="{% static 'JS/login.js' %}" defer></script>
    <title>Login - AgendMed</title>
    <link rel="stylesheet" href="{% static 'css/login.css' %}">
</head>
<body>

    <main class="content">
        <div class="form-container">
            <img src="{% static 'img/Logo-branca-AgendMed.png' %}" alt="Logo AgendMed">

            <h2>Login</h2>
            <form method="POST">
                {% csrf_token %}
                <label for="cpf-login">CPF</label>
                <input type="text" id="cpf-login" name="username" placeholder="000.000.000-00" required>
                <small id="cpf-error" class="error-message"></small> 
            
                <label for="senha-login">Senha</label>
                <input type="password" id="senha-login" name="password" placeholder="Digite pelo menos 6 caracteres" required>
                <small id="senha-error" class="error-message"></small>
            
                <button type="submit" class="btn-primary" id="submit-btn" disabled>Entrar</button>
            </form>

            <button class="btn-secondary cadastro-btn" id="cadastro_paciente">
                <a href="{% url 'Paciente:cadastro_paciente' %}">Quero me cadastrar</a>
            </button>

            <p class="secondary-text">Fazer login como <a href="#">Profissional</a></p>
        </div>
    </main>

    <script>
        // Verifica se há mensagens de sucesso na sessão
        {% if messages %}
            {% for message in messages %}
                Swal.fire({
                    text: '{{ message }}',
                    icon: '{{ message.type }}',
                    confirmButtonText: 'OK'
                });
            {% endfor %}
        {% endif %}
    </script>

</body>
</html>